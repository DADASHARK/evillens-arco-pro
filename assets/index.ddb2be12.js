import{d as B,c as M,C as c,D as m,E as s,aI as e,aH as n,aK as U,aJ as q,b4 as R,aE as j,aN as l,b5 as T,j as z,r as H,u as x,aM as v,aW as S,b6 as J,b7 as K,b8 as Q,b9 as W,ba as X,aX as G,bb as O,bc as Y}from"./arco.72da9517.js";import{_ as Z,F as ee}from"./index.4c326f31.js";import{v as E,_ as I,l as oe,I as se,a as ae}from"./index.4a617d7c.js";import{u as ne}from"./index.e3fecb8a.js";/* empty css              *//* empty css               *//* empty css               */import{f as re,g as te}from"./vue.cce938d5.js";import{useUserStore as le}from"@/store";import"./chart.6a8d2179.js";import"@/views/visualization/data-analysis/mock";import"@/views/visualization/multi-dimension-data-analysis/mock";import"@/views/user/info/mock";import"@/views/user/setting/mock";const $="/assets/login-banner.02784129.png",ue={class:"banner"},ie={class:"banner-inner"},ce={class:"carousel-title"},_e={class:"carousel-sub-title"},de=["src"],me=B({__name:"banner",setup(C){const{t}=E.exports.useI18n(),i=M(()=>[{slogan:t("login.banner.slogan1"),subSlogan:t("login.banner.subSlogan1"),image:$},{slogan:t("login.banner.slogan2"),subSlogan:t("login.banner.subSlogan2"),image:$},{slogan:t("login.banner.slogan3"),subSlogan:t("login.banner.subSlogan3"),image:$}]);return(_,h)=>{const g=T,p=R;return c(),m("div",ue,[s("div",ie,[e(p,{class:"carousel","animation-name":"fade"},{default:n(()=>[(c(!0),m(U,null,q(i.value,a=>(c(),j(g,{key:a.slogan},{default:n(()=>[(c(),m("div",{key:a.slogan,class:"carousel-item"},[s("div",ce,l(a.slogan),1),s("div",_e,l(a.subSlogan),1),s("img",{class:"carousel-image",src:a.image},null,8,de)]))]),_:2},1024))),128))]),_:1})])])}}});const ge=I(me,[["__scopeId","data-v-2ce84fe6"]]),pe={class:"login-form-wrapper"},fe={class:"login-form-title"},be={class:"login-form-sub-title"},ve={class:"login-form-error-msg"},he={class:"login-form-password-actions"},we=B({__name:"login-form",setup(C){const t=re(),{t:i}=E.exports.useI18n(),_=z(""),{loading:h,setLoading:g}=ne(),p=le(),a=te("login-config",{rememberPassword:!0,username:"",password:""}),d=H({username:a.value.username,password:a.value.password}),D=async({errors:o,values:u})=>{var f;if(!h.value&&!o){g(!0),_.value="";try{const r=await oe(u);if(r.code===2e4){p.setToken(r.data.token),p.setUserInfo({userId:r.data.user.id,username:r.data.user.username});const{redirect:b,...w}=t.currentRoute.value.query;t.push({name:b||"DataAnalysis",query:{...w}}),S.success(i("login.form.login.success"));const{rememberPassword:y}=a.value;a.value.username=y?u.username:"",a.value.password=""}else _.value=((f=r.data.data)==null?void 0:f.message)||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}catch(r){console.error("\u767B\u5F55\u9519\u8BEF:",r),_.value=r.message||"\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF",r.message.includes("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF")&&S.error({content:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",duration:3e3})}finally{g(!1)}}},P=o=>{a.value.rememberPassword=o};return(o,u)=>{const f=se,r=J,b=K,w=ae,y=Q,V=W,L=X,k=G,N=O,A=Y;return c(),m("div",pe,[s("div",fe,l(o.$t("login.form.title")),1),s("div",be,l(o.$t("login.form.title")),1),s("div",ve,l(_.value),1),e(A,{ref:"loginForm",model:d,class:"login-form",layout:"vertical",onSubmit:D},{default:n(()=>[e(b,{field:"username",rules:[{required:!0,message:o.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:n(()=>[e(r,{modelValue:d.username,"onUpdate:modelValue":u[0]||(u[0]=F=>d.username=F),placeholder:o.$t("login.form.userName.placeholder")},{prefix:n(()=>[e(f)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(b,{field:"password",rules:[{required:!0,message:o.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:n(()=>[e(y,{modelValue:d.password,"onUpdate:modelValue":u[1]||(u[1]=F=>d.password=F),placeholder:o.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:n(()=>[e(w)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(N,{size:16,direction:"vertical"},{default:n(()=>[s("div",he,[e(V,{checked:"rememberPassword","model-value":x(a).rememberPassword,onChange:P},{default:n(()=>[v(l(o.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"]),e(L,null,{default:n(()=>[v(l(o.$t("login.form.forgetPassword")),1)]),_:1})]),e(k,{type:"primary","html-type":"submit",long:"",loading:x(h)},{default:n(()=>[v(l(o.$t("login.form.login")),1)]),_:1},8,["loading"]),e(k,{type:"text",long:"",class:"login-form-register-btn"},{default:n(()=>[v(l(o.$t("login.form.register")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}});const ye=I(we,[["__scopeId","data-v-ca8c98d2"]]),Fe={class:"container"},$e={class:"content"},Be={class:"content-inner"},Ie={class:"footer"},Ce=B({__name:"index",setup(C){return(t,i)=>(c(),m("div",Fe,[i[0]||(i[0]=s("div",{class:"logo"},[s("img",{alt:"logo",src:Z}),s("div",{class:"logo-text"},"EvilLens:\u513F\u7AE5\u90AA\u5178\u89C6\u9891\u6316\u6398\u4E0E\u6CBB\u7406")],-1)),e(ge),s("div",$e,[s("div",Be,[e(ye)]),s("div",Ie,[e(ee)])])]))}});const je=I(Ce,[["__scopeId","data-v-432814fb"]]);export{je as default};
